<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale-1.0">
    <title>Pranav Reddy - Cinematic. Motion Magic.</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700&family=Sora:wght@400;700;800&display=swap" rel="stylesheet">
    <style>
        /* Base Colors & Typography */
        :root {
            --bg-charcoal: #181818;
            --bg-secondary: rgba(28, 28, 28, 0.7);
            --text-primary: #EAEAEA;
            --text-muted: #888;
            --border-color: rgba(255, 255, 255, 0.1);
            --shadow-1: #121212;
            --shadow-2: #1e1e1e;
            --secondary-teal: #4A6D7C;
            --accent-blue: #0071E3;
            --accent-yellow: #FFC700;
        }

        body {
            background-color: var(--bg-charcoal);
            color: var(--text-primary);
            font-family: 'Inter', sans-serif;
            scroll-behavior: smooth;
            transition: background-color 0.3s ease, color 0.3s ease;
        }

        h1, h2, h3, .font-heading {
            font-family: 'Sora', sans-serif;
            text-transform: uppercase;
            font-weight: 800;
        }
        
        /* Glassmorphism Sidebar */
        #sidebar {
            background-color: var(--bg-secondary);
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
            border-right: 1px solid var(--border-color);
            transform: translateX(0);
            transition: transform 0.3s ease;
        }
        body.sidebar-collapsed #sidebar {
            transform: translateX(-100%);
        }
        .sidebar-link:hover {
             background-color: var(--border-color);
        }
        .sidebar-link.active {
            color: var(--accent-blue);
            background-color: rgba(0, 113, 227, 0.15);
        }
        
        #main-content {
            transition: margin-left 0.3s ease;
            margin-left: 16rem; /* 256px */
        }
        body.sidebar-collapsed #main-content {
            margin-left: 0;
        }
        @media (max-width: 1024px) {
            #main-content { margin-left: 0; }
        }

        /* Menu Toggle Button */
        #menu-toggle {
            position: fixed;
            top: 1.5rem;
            left: 1.5rem;
            z-index: 50;
            background-color: var(--bg-secondary);
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            border-radius: 9999px;
            padding: 0.5rem;
            transition: all 0.3s ease;
        }
        body:not(.sidebar-collapsed) #menu-toggle {
            left: 17.5rem; /* 16rem sidebar width + 1.5rem margin */
        }
        @media (max-width: 1024px) {
            body:not(.sidebar-collapsed) #menu-toggle {
                left: 1.5rem;
            }
        }


        /* Hero Section */
        #hero { height: 100vh; position: relative; overflow: hidden; }
        #hero-video { position: absolute; top: 50%; left: 50%; min-width: 100%; min-height: 100%; width: auto; height: auto; transform: translateX(-50%) translateY(-50%); z-index: -1; object-fit: cover; }

        /* Neumorphic Button */
        .neumorphic-btn {
            background: var(--bg-charcoal);
            border: 1px solid var(--border-color);
            box-shadow: 5px 5px 10px var(--shadow-1), -5px -5px 10px var(--shadow-2);
            transition: all 0.2s ease-in-out;
        }
        .neumorphic-btn:hover {
            color: var(--accent-blue);
            box-shadow: inset 2px 2px 5px var(--shadow-1), inset -2px -2px 5px var(--shadow-2);
            transform: translateY(2px);
        }

        /* Portfolio & Lightbox */
        .portfolio-item .video-preview { display: none; position: absolute; top: 0; left: 0; width: 100%; height: 100%; object-fit: cover; z-index: 1; }
        .portfolio-item:hover .video-preview { display: block; }
        .portfolio-item:hover .thumbnail-image { opacity: 0; }
        .portfolio-item .overlay { opacity: 0; transition: opacity 0.3s ease; background: rgba(74, 109, 124, 0.8); z-index: 2; }
        .portfolio-item:hover .overlay { opacity: 1; }
        #lightbox { z-index: 100; }
        #lightbox-video { max-height: 75vh; }

        /* Timeline */
        .timeline-line { background-color: var(--secondary-teal); }
        .timeline-line-progress { background-color: var(--accent-blue); }
        .timeline-item { opacity: 0; transform: translateY(50px); transition: opacity 0.6s ease, transform 0.6s ease; }
        .timeline-item.is-visible { opacity: 1; transform: translateY(0); }
        .timeline-dot { background-color: var(--secondary-teal); border: 3px solid var(--bg-charcoal); transition: background-color 0.3s ease, border-color 0.3s ease; }
        .timeline-item.is-visible .timeline-dot { background-color: var(--accent-blue); }

        /* Form elements */
        .form-input {
            background-color: var(--bg-secondary);
            border: 1px solid var(--border-color);
            transition: background-color 0.3s ease, border-color 0.3s ease;
        }
        #form-status {
            margin-top: 1rem;
            font-weight: bold;
        }
    </style>
</head>
<body class="overflow-x-hidden">
    <!-- Menu Toggle Button -->
    <button id="menu-toggle" class="p-2">
        <svg id="menu-open-icon" class="w-8 h-8 block" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16m-7 6h7"></path></svg>
        <svg id="menu-close-icon" class="w-8 h-8 hidden" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg>
    </button>
    
    <!-- Sidebar Navigation -->
    <nav id="sidebar" class="fixed top-0 left-0 h-full w-64 z-40 p-6 flex flex-col">
        <div class="flex justify-between items-center mb-12">
            <h2 class="text-2xl font-heading tracking-widest">PR</h2>
        </div>
        <ul class="space-y-2">
            <li><a href="#hero" class="sidebar-link block text-lg font-bold p-3 rounded-lg transition-colors duration-200">Home</a></li>
            <li><a href="#about" class="sidebar-link block text-lg font-bold p-3 rounded-lg transition-colors duration-200">About</a></li>
            <li><a href="#portfolio" class="sidebar-link block text-lg font-bold p-3 rounded-lg transition-colors duration-200">Work</a></li>
            <li><a href="#services" class="sidebar-link block text-lg font-bold p-3 rounded-lg transition-colors duration-200">Services</a></li>
            <li><a href="#experience" class="sidebar-link block text-lg font-bold p-3 rounded-lg transition-colors duration-200">Journey</a></li>
            <li><a href="#contact" class="sidebar-link block text-lg font-bold p-3 rounded-lg transition-colors duration-200">Contact</a></li>
        </ul>
    </nav>

    <div id="main-content">
        <!-- Hero Section -->
        <section id="hero" class="flex flex-col items-center justify-center text-center">
            <video autoplay muted loop playsinline id="hero-video" poster="https://placehold.co/1920x1080/181818/181818">
                <source src="https://assets.mixkit.co/videos/preview/mixkit-a-bunch-of-old-projectors-playing-different-clips-4328-large.mp4" type="video/mp4">
            </video>
            <div class="absolute inset-0 bg-black bg-opacity-60"></div>
            <div class="relative z-10 p-8 text-white">
                <h1 class="text-5xl md:text-8xl lg:text-9xl font-heading tracking-wider leading-tight">
                    <span class="block">CINEMATIC.</span>
                    <span class="block text-gray-400">MOTION MAGIC.</span>
                </h1>
            </div>
        </section>

        <!-- Main Content Wrapper -->
        <main class="w-full max-w-7xl mx-auto px-6 md:px-12 py-20 md:py-32 space-y-20 md:space-y-32">

            <!-- About Section -->
            <section id="about" class="grid md:grid-cols-5 gap-12 items-center">
                <div class="md:col-span-2">
                    <img src="https://placehold.co/600x800/181818/4A6D7C?text=Pranav+Reddy" alt="Pranav Reddy" class="rounded-lg shadow-2xl w-full h-auto object-cover">
                </div>
                <div class="md:col-span-3">
                    <h2 class="text-4xl md:text-5xl font-heading mb-6">Pranav Reddy: <span style="color:var(--secondary-teal)">Editor & Motion Artist</span></h2>
                    <div class="flex flex-wrap gap-x-8 gap-y-4 mb-8 text-center">
                        <div class="stat-item">
                            <p class="text-5xl font-bold font-heading" style="color:var(--secondary-teal)" data-target="1.5">0</p>
                            <p class="text-sm uppercase tracking-widest text-muted">Years Experience</p>
                        </div>
                        <div class="stat-item">
                            <p class="text-5xl font-bold font-heading" style="color:var(--secondary-teal)" data-target="50">0</p>
                            <p class="text-sm uppercase tracking-widest text-muted">Videos Delivered</p>
                        </div>
                        <div class="stat-item">
                            <p class="text-5xl font-bold font-heading" style="color:var(--secondary-teal)">Chief</p>
                            <p class="text-sm uppercase tracking-widest text-muted">Editor Role</p>
                        </div>
                    </div>
                    <p class="text-lg leading-relaxed text-muted">
                        Over the past 1.5 years, I've edited over 50 videos, transforming raw footage into compelling stories. From leading projects as a Chief Editor in college to crafting engaging content for YouTube creators, my passion is creating visual rhythm and 'motion magic' that captures audiences.
                    </p>
                </div>
            </section>

            <!-- Portfolio Section -->
            <section id="portfolio" class="min-h-screen">
                <h2 class="text-5xl md:text-6xl font-heading text-center mb-12">My Work</h2>
                <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-8">
                    <!-- Portfolio Items -->
                    <div class="portfolio-item group relative rounded-lg overflow-hidden cursor-pointer shadow-lg" data-video-src="https://assets.mixkit.co/videos/preview/mixkit-urban-man-skateboarding-on-a-parking-lot-4318-large.mp4" data-title="Tech Fest Promo" data-description="My Role: Lead Editor & Colorist. Goal: To create a fast-paced promotional video for the college tech-fest, focusing on energy and quick cuts to build hype.">
                        <img src="https://placehold.co/600x400/181818/33E1FF?text=Tech+Fest" alt="Tech Fest Promo" class="thumbnail-image w-full h-full object-cover transition-transform duration-300 group-hover:scale-105">
                        <video muted loop playsinline class="video-preview"></video>
                        <div class="overlay absolute inset-0 flex items-center justify-center p-4">
                            <h3 class="text-2xl font-heading text-white text-center">Tech Fest Promo</h3>
                        </div>
                    </div>
                    <div class="portfolio-item group relative rounded-lg overflow-hidden cursor-pointer shadow-lg" data-video-src="https://assets.mixkit.co/videos/preview/mixkit-man-runs-on-the-beach-side-4361-large.mp4" data-title="Short Film 'Drift'" data-description="My Role: Editor. Goal: Edited a narrative short film, focusing on pacing and emotional impact to tell a compelling visual story.">
                        <img src="https://placehold.co/600x400/181818/33E1FF?text=Drift" alt="Short Film 'Drift'" class="thumbnail-image w-full h-full object-cover transition-transform duration-300 group-hover:scale-105">
                        <video muted loop playsinline class="video-preview"></video>
                        <div class="overlay absolute inset-0 flex items-center justify-center p-4">
                            <h3 class="text-2xl font-heading text-white text-center">Short Film 'Drift'</h3>
                        </div>
                    </div>
                    <div class="portfolio-item group relative rounded-lg overflow-hidden cursor-pointer shadow-lg" data-video-src="https://assets.mixkit.co/videos/preview/mixkit-surfer-with-a-surfboard-on-the-beach-4354-large.mp4" data-title="YouTube Creator Collab" data-description="My Role: Editor & Motion Graphics. Goal: Created a high-energy YouTube intro and edited the main content to maximize viewer retention for a travel vlogger.">
                        <img src="https://placehold.co/600x400/181818/33E1FF?text=YT+Collab" alt="YouTube Creator Collab" class="thumbnail-image w-full h-full object-cover transition-transform duration-300 group-hover:scale-105">
                        <video muted loop playsinline class="video-preview"></video>
                        <div class="overlay absolute inset-0 flex items-center justify-center p-4">
                            <h3 class="text-2xl font-heading text-white text-center">YouTube Creator Collab</h3>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Services Section -->
            <section id="services" class="text-center">
                 <h2 class="text-5xl md:text-6xl font-heading text-center mb-12">What I Do</h2>
                 <div class="grid md:grid-cols-3 gap-8">
                    <div class="p-8 border rounded-lg hover:border-teal-500/50 transition-colors" style="border-color: var(--border-color);">
                        <svg class="w-16 h-16 mx-auto mb-4" style="color:var(--secondary-teal)" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z"></path></svg>
                        <h3 class="text-2xl font-heading mb-2">Fast-Paced Editing</h3>
                        <p class="text-muted">Crafting dynamic, rhythm-driven edits that grip viewers from the first second to the last.</p>
                    </div>
                     <div class="p-8 border rounded-lg hover:border-teal-500/50 transition-colors" style="border-color: var(--border-color);">
                        <svg class="w-16 h-16 mx-auto mb-4" style="color:var(--secondary-teal)" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 4v16M17 4v16M3 8h4m10 0h4M3 12h18M3 16h4m10 0h4M4 20h16a1 1 0 001-1V5a1 1 0 00-1-1H4a1 1 0 00-1 1v14a1 1 0 001 1z"></path></svg>
                        <h3 class="text-2xl font-heading mb-2">Motion Graphics</h3>
                        <p class="text-muted">Enhancing narratives with custom titles, lower-thirds, and visual effects that add a professional polish.</p>
                    </div>
                     <div class="p-8 border rounded-lg hover:border-teal-500/50 transition-colors" style="border-color: var(--border-color);">
                        <svg class="w-16 h-16 mx-auto mb-4" style="color:var(--secondary-teal)" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 21a4 4 0 01-4-4V5a2 2 0 012-2h4a2 2 0 012 2v12a4 4 0 01-4 4zm0 0h12a2 2 0 002-2v-4a2 2 0 00-2-2h-2.343M11 7.343l1.657-1.657a2 2 0 012.828 0l2.829 2.829a2 2 0 010 2.828l-8.486 8.485M7 17h.01"></path></svg>
                        <h3 class="text-2xl font-heading mb-2">Color Grading</h3>
                        <p class="text-muted">Setting the mood and ensuring visual consistency with cinematic color correction and grading.</p>
                    </div>
                 </div>
            </section>

            <!-- Visual Timeline Section -->
            <section id="experience">
                <h2 class="text-5xl md:text-6xl font-heading text-center mb-20">My Journey</h2>
                <div class="relative max-w-2xl mx-auto py-4">
                    <div class="timeline-line absolute top-0 left-1/2 w-1 h-full -ml-px"></div>
                    
                    <div class="timeline-item mt-8 md:mt-0 relative">
                        <div class="timeline-dot absolute top-1/2 left-1/2 w-4 h-4 rounded-full -mt-2 -ml-2 z-10"></div>
                        <div class="md:ml-auto md:pl-16 w-full md:w-1/2">
                            <div class="p-6 border rounded-lg" style="border-color: var(--border-color);">
                                <p class="text-xl font-bold" style="color:var(--secondary-teal)">2023</p>
                                <h3 class="text-2xl font-heading mt-1 mb-2">Started YouTube Editing</h3>
                                <p class="text-muted">Honed skills on fast-turnaround projects, focusing on retention and engagement.</p>
                            </div>
                        </div>
                    </div>

                    <div class="timeline-item mt-8 relative">
                        <div class="timeline-dot absolute top-1/2 left-1/2 w-4 h-4 rounded-full -mt-2 -ml-2 z-10"></div>
                         <div class="md:mr-auto md:pr-16 w-full md:w-1/2 text-right">
                             <div class="p-6 border rounded-lg" style="border-color: var(--border-color);">
                                 <p class="text-xl font-bold" style="color:var(--secondary-teal)">2024</p>
                                 <h3 class="text-2xl font-heading mt-1 mb-2">Chief Editor, College Fest</h3>
                                 <p class="text-muted">Managed a team and delivered 10+ high-energy event videos under tight deadlines.</p>
                             </div>
                        </div>
                    </div>
                    
                     <div class="timeline-item mt-8 relative">
                        <div class="timeline-dot absolute top-1/2 left-1/2 w-4 h-4 rounded-full -mt-2 -ml-2 z-10"></div>
                        <div class="md:ml-auto md:pl-16 w-full md:w-1/2">
                            <div class="p-6 border rounded-lg" style="border-color: var(--border-color);">
                                <p class="text-xl font-bold" style="color:var(--secondary-teal)">2024</p>
                                <h3 class="text-2xl font-heading mt-1 mb-2">First Freelance Short Film</h3>
                                <p class="text-muted">Handled the full post-production pipeline, including editing, color, and sound.</p>
                            </div>
                        </div>
                    </div>

                    <div class="timeline-item mt-8 relative">
                        <div class="timeline-dot absolute top-1/2 left-1/2 w-4 h-4 rounded-full -mt-2 -ml-2 z-10"></div>
                         <div class="md:mr-auto md:pr-16 w-full md:w-1/2 text-right">
                             <div class="p-6 border rounded-lg" style="border-color: var(--border-color);">
                                 <p class="text-xl font-bold" style="color:var(--secondary-teal)">2025</p>
                                 <h3 class="text-2xl font-heading mt-1 mb-2">50+ Projects Completed</h3>
                                 <p class="text-muted">Established a versatile portfolio spanning promos, narrative, and online content.</p>
                             </div>
                        </div>
                    </div>

                </div>
            </section>

            <!-- Contact Section -->
            <section id="contact" class="grid md:grid-cols-2 gap-16 items-start">
                 <div>
                    <h2 class="text-4xl md:text-5xl font-heading mb-6">Have a project in mind?<br><span style="color: var(--secondary-teal)">Let's create.</span></h2>
                    <div class="space-y-6 text-lg">
                         <div>
                            <p class="font-bold text-muted">EMAIL</p>
                            <a href="mailto:pranaveshwareddy@gmail.com" class="hover:opacity-80 transition-opacity" style="color:var(--accent-blue)">pranaveshwareddy@gmail.com</a>
                        </div>
                         <div>
                            <p class="font-bold text-muted">PHONE</p>
                            <a href="tel:+919502806199" class="hover:opacity-80 transition-opacity" style="color:var(--accent-blue)">+91 9502806199</a>
                        </div>
                        <div>
                            <p class="font-bold text-muted">YOUTUBE</p>
                            <a href="https://www.youtube.com/@prnvrdyy" target="_blank" rel="noopener noreferrer" class="inline-flex items-center gap-2 hover:opacity-80 transition-opacity" style="color:var(--accent-blue)">
                                <svg xmlns="http://www.w3.org/2000/svg" class="w-6 h-6" viewBox="0 0 24 24" fill="currentColor"><path d="M19.615 3.184c-3.604-.246-11.631-.245-15.23 0-3.897.266-4.356 2.62-4.385 8.816.029 6.185.484 8.549 4.385 8.816 3.6.245 11.626.246 15.23 0 3.897-.266 4.356-2.62 4.385-8.816-.029-6.185-.484-8.549-4.385-8.816zm-10.615 12.816v-8l8 3.993-8 4.007z"></path></svg>
                                <span>/prnvrdyy</span>
                            </a>
                        </div>
                    </div>
                </div>
                 <div>
                    <!-- 
                        *******************************************************************************
                        ** IMPORTANT: MAKE YOUR FORM FUNCTIONAL IN 3 STEPS! **
                        *******************************************************************************
                        1. Go to https://formspree.io/ and create a free account and a new form.
                        2. In your Formspree form settings, find the "Endpoint" URL. It will look 
                           like: https://formspree.io/f/xxxxxxxx
                        3. Copy your unique endpoint URL and PASTE it below, replacing the placeholder 
                           in the `action` attribute.
                        *******************************************************************************
                    -->
                    <form id="contact-form" action="https://formspree.io/f/REPLACE_WITH_YOUR_UNIQUE_FORM_ID" method="POST" class="space-y-6">
                        <input type="text" name="name" placeholder="Your Name" required class="form-input w-full rounded-md py-3 px-4 focus:outline-none focus:ring-2" style="--tw-ring-color: var(--accent-blue)">
                        <input type="email" name="email" placeholder="Your Email" required class="form-input w-full rounded-md py-3 px-4 focus:outline-none focus:ring-2" style="--tw-ring-color: var(--accent-blue)">
                        <textarea name="message" rows="5" placeholder="Tell me about your project..." required class="form-input w-full rounded-md py-3 px-4 focus:outline-none focus:ring-2" style="--tw-ring-color: var(--accent-blue)"></textarea>
                        <button type="submit" class="neumorphic-btn w-full text-lg font-bold py-4 px-10 rounded-lg">SUBMIT</button>
                    </form>
                    <div id="form-status"></div>
                </div>
            </section>

        </main>
        
        <footer class="text-center py-8 border-t" style="border-color: var(--border-color);">
            <p class="text-muted">&copy; 2025 Pranav Reddy. All Rights Reserved.</p>
        </footer>
    </div>

    <!-- Lightbox Modal -->
    <div id="lightbox" class="fixed inset-0 bg-black/90 flex flex-col items-center justify-center p-4 hidden">
        <div class="relative w-full max-w-4xl rounded-lg">
             <button id="close-lightbox" class="absolute -top-10 right-0 text-white text-5xl font-light">&times;</button>
            <video id="lightbox-video" controls class="w-full h-auto rounded-lg mb-4"></video>
            <h3 id="lightbox-title" class="text-2xl font-heading text-white"></h3>
            <p id="lightbox-description" class="text-gray-300 mt-2"></p>
        </div>
    </div>

    <script>
    document.addEventListener('DOMContentLoaded', () => {
        const body = document.body;
        const sidebar = document.getElementById('sidebar');
        const menuToggle = document.getElementById('menu-toggle');
        const mainContent = document.getElementById('main-content');
        const menuOpenIcon = document.getElementById('menu-open-icon');
        const menuCloseIcon = document.getElementById('menu-close-icon');

        // --- SIDEBAR & MOBILE MENU ---
        const toggleSidebar = () => {
            body.classList.toggle('sidebar-collapsed');
            const isCollapsed = body.classList.contains('sidebar-collapsed');
            menuOpenIcon.classList.toggle('hidden', !isCollapsed);
            menuOpenIcon.classList.toggle('block', isCollapsed);
            menuCloseIcon.classList.toggle('hidden', isCollapsed);
            menuCloseIcon.classList.toggle('block', !isCollapsed);
        };

        menuToggle.addEventListener('click', (e) => {
            e.stopPropagation();
            toggleSidebar();
        });

        // --- SIDEBAR ACTIVE LINK HIGHLIGHTER ---
        const sections = document.querySelectorAll('section[id]');
        const sidebarLinks = document.querySelectorAll('.sidebar-link');

        const observerOptions = { root: null, rootMargin: '0px 0px -50% 0px', threshold: 0 };

        const sectionObserver = new IntersectionObserver((entries, observer) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    const id = entry.target.getAttribute('id');
                    sidebarLinks.forEach(link => {
                        link.classList.remove('active');
                        if (link.getAttribute('href') === `#${id}`) {
                            link.classList.add('active');
                        }
                    });
                }
            });
        }, observerOptions);

        sections.forEach(section => {
            sectionObserver.observe(section);
        });
        
        sidebarLinks.forEach(link => {
            link.addEventListener('click', () => {
                if (window.innerWidth < 1024) {
                    body.classList.add('sidebar-collapsed');
                }
            });
        });
        
        // Default sidebar state based on screen size
        if (window.innerWidth < 1024) {
             body.classList.add('sidebar-collapsed');
        }


        // --- STATS COUNTER ---
        const statItems = document.querySelectorAll('.stat-item p[data-target]');
        const animateStats = (entries, observer) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    const el = entry.target;
                    const target = +el.getAttribute('data-target');
                    if (el.innerText == target) return; // Prevent re-animating
                    
                    const duration = 2000;
                    const frameDuration = 1000 / 60;
                    const totalFrames = Math.round(duration / frameDuration);
                    let frame = 0;

                    const counter = setInterval(() => {
                        frame++;
                        const progress = frame / totalFrames;
                        const currentCount = target * progress;
                        
                        if (target % 1 !== 0) {
                            el.innerText = currentCount.toFixed(1);
                        } else {
                            el.innerText = Math.round(currentCount);
                        }

                        if (frame === totalFrames) {
                            clearInterval(counter);
                            el.innerText = target;
                        }
                    }, frameDuration);
                    
                    observer.unobserve(el);
                }
            });
        };
        const statObserver = new IntersectionObserver(animateStats, { threshold: 0.5 });
        statItems.forEach(item => statObserver.observe(item));

        // --- PORTFOLIO HOVER & LIGHTBOX ---
        const portfolioItems = document.querySelectorAll('.portfolio-item');
        const lightbox = document.getElementById('lightbox');
        const lightboxVideo = document.getElementById('lightbox-video');
        const lightboxTitle = document.getElementById('lightbox-title');
        const lightboxDescription = document.getElementById('lightbox-description');
        const closeLightboxBtn = document.getElementById('close-lightbox');
        
        const videoPreloadObserver = new IntersectionObserver((entries, observer) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    const item = entry.target;
                    const videoPreview = item.querySelector('.video-preview');
                    if (videoPreview && !videoPreview.src) {
                        videoPreview.src = item.dataset.videoSrc;
                    }
                    observer.unobserve(item);
                }
            });
        }, { rootMargin: "200px" });

        portfolioItems.forEach(item => {
            videoPreloadObserver.observe(item);
            const videoPreview = item.querySelector('.video-preview');
            
            item.addEventListener('mouseenter', () => {
                if (videoPreview && videoPreview.readyState >= 3) { // Check if video data is available
                     const playPromise = videoPreview.play();
                     if (playPromise !== undefined) {
                        playPromise.catch(error => {
                            // Autoplay was prevented.
                            if (error.name !== 'AbortError') {
                                console.error("Video play failed:", error);
                            }
                        });
                     }
                }
            });

            item.addEventListener('mouseleave', () => {
                if (videoPreview) {
                    videoPreview.pause();
                    videoPreview.currentTime = 0;
                }
            });

            item.addEventListener('click', () => {
                lightboxTitle.textContent = item.dataset.title;
                lightboxDescription.textContent = item.dataset.description;
                lightboxVideo.src = item.dataset.videoSrc;
                lightbox.classList.remove('hidden');
                document.body.style.overflow = 'hidden';
            });
        });
        
        const closeLightbox = () => {
            lightbox.classList.add('hidden');
            lightboxVideo.pause();
            lightboxVideo.src = "";
            document.body.style.overflow = '';
        };
        closeLightboxBtn.addEventListener('click', closeLightbox);
        lightbox.addEventListener('click', (e) => {
            if (e.target === lightbox) {
                closeLightbox();
            }
        });
        document.addEventListener('keydown', (e) => {
            if (e.key === 'Escape' && !lightbox.classList.contains('hidden')) {
                closeLightbox();
            }
        });

        // --- TIMELINE ANIMATION ---
        const timelineItems = document.querySelectorAll('.timeline-item');
        const timelineObserver = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.classList.add('is-visible');
                }
            });
        }, { threshold: 0.1 });
        
        timelineItems.forEach(item => timelineObserver.observe(item));

        // --- FORM SUBMISSION HANDLING ---
        const form = document.getElementById('contact-form');
        const formStatus = document.getElementById('form-status');

        async function handleSubmit(event) {
            event.preventDefault();
            const data = new FormData(event.target);
            try {
                const response = await fetch(event.target.action, {
                    method: form.method,
                    body: data,
                    headers: { 'Accept': 'application/json' }
                });

                if (response.ok) {
                    formStatus.textContent = "Thanks for your submission!";
                    formStatus.style.color = 'var(--accent-yellow)';
                    form.reset();
                } else {
                    const responseData = await response.json();
                    if (Object.hasOwn(responseData, 'errors')) {
                        formStatus.textContent = responseData["errors"].map(error => error["message"]).join(", ");
                    } else {
                        formStatus.textContent = "Oops! There was a problem submitting your form";
                    }
                     formStatus.style.color = '#ff4d4d';
                }
            } catch (error) {
                formStatus.textContent = "Oops! There was a problem submitting your form";
                formStatus.style.color = '#ff4d4d';
            }
        }
        form.addEventListener("submit", handleSubmit);

    });
    </script>
</body>
</html>

